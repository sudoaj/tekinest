{"ast":null,"code":"import _asyncToGenerator from \"/Users/aj/source/repos/tekinest/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { select } from \"@angular-redux/store\";\nimport { ContactActions } from '../../store/actions';\nexport let ContactComponent = class ContactComponent {\n  constructor(ngRedux, http, db) {\n    var _this = this;\n    this.ngRedux = ngRedux;\n    this.http = http;\n    this.db = db;\n    this.status = 'Send Message';\n    this.valid = true;\n    this.submit = /*#__PURE__*/_asyncToGenerator(function* () {\n      if (_this.validate()) {\n        _this.valid = true;\n        if (_this.status == 'Send Message') {\n          _this.status = 'Sending..';\n          _this.action.postMessage({\n            ..._this.form.value,\n            date: new Date().toString(),\n            timestamp: +new Date()\n          }, () => {\n            _this.status = 'Sent';\n            setTimeout(() => {\n              _this.status = 'Send Message';\n              _this.form.reset();\n            }, 2000);\n          });\n        }\n      } else _this.valid = false;\n    });\n    this.validate = () => {\n      let {\n        firstname,\n        email,\n        message\n      } = this.form.value;\n      return firstname && firstname != '' && email && email != '' && message && message != '';\n    };\n    this.form = new FormGroup({\n      firstname: new FormControl(),\n      email: new FormControl(),\n      message: new FormControl()\n    });\n    this.subscription = ngRedux.select('contact').subscribe(item => this.userData = item);\n    this.action = new ContactActions(ngRedux, http, db);\n  }\n  ngOnInit() {\n    document.getElementById('upp').scrollIntoView({\n      behavior: 'smooth'\n    });\n  }\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n};\n__decorate([select()], ContactComponent.prototype, \"contact\", void 0);\nContactComponent = __decorate([Component({\n  selector: 'app-contact',\n  templateUrl: './contact.component.html',\n  styleUrls: ['./contact.component.css']\n})], ContactComponent);","map":{"version":3,"names":["Component","FormGroup","FormControl","select","ContactActions","ContactComponent","constructor","ngRedux","http","db","_this","status","valid","submit","_asyncToGenerator","validate","action","postMessage","form","value","date","Date","toString","timestamp","setTimeout","reset","firstname","email","message","subscription","subscribe","item","userData","ngOnInit","document","getElementById","scrollIntoView","behavior","ngOnDestroy","unsubscribe","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/aj/source/repos/tekinest/src/app/container/contact/contact.component.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy, } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { NgRedux, select } from \"@angular-redux/store\";\nimport { ContactActions } from '../../store/actions'\nimport { IAppState } from \"../../store/index\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { AngularFireDatabase } from \"angularfire2/database\";\n\n\n@Component({\n  selector: 'app-contact',\n  templateUrl: './contact.component.html',\n  styleUrls: ['./contact.component.css']\n})\n\n\nexport class ContactComponent implements OnInit, OnDestroy {\n\n  @select() contact\n  subscription;\n  userData;\n  status = 'Send Message'\n  valid = true\n\n  firstname: string\n  email: string\n  message: string\n  form: FormGroup \n  action: ContactActions;\n\n  constructor(private ngRedux: NgRedux<IAppState>, \n    private http: HttpClient, \n    private db: AngularFireDatabase) {\n    this.form = new FormGroup({\n      firstname: new FormControl(),\n      email: new FormControl(),\n      message: new FormControl()\n    })\n    this.subscription = ngRedux.select('contact').subscribe(item => this.userData = item)\n    this.action = new ContactActions(ngRedux, http, db)\n  }\n\n  ngOnInit() {\n    document.getElementById('upp').scrollIntoView({behavior: 'smooth'})\n  }\n\n  submit = async () => {\n    if (this.validate()) {\n      this.valid = true\n      if (this.status == 'Send Message') {\n        this.status = 'Sending..'\n        this.action.postMessage({...this.form.value, date: new Date().toString(), timestamp: + new Date()}, () => {\n          this.status = 'Sent'\n          setTimeout(() => {\n            this.status = 'Send Message'\n            this.form.reset()\n          }, 2000)\n        })\n      }\n    } else this.valid = false\n  }\n\n  validate = () => {\n    let {firstname, email, message} = this.form.value\n    return firstname && firstname != '' && email && email != '' && message && message != ''\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe()\n  }\n\n}\n"],"mappings":";;AAAA,SAASA,SAAS,QAA4B,eAAe;AAC7D,SAASC,SAAS,EAAEC,WAAW,QAAQ,gBAAgB;AACvD,SAAkBC,MAAM,QAAQ,sBAAsB;AACtD,SAASC,cAAc,QAAQ,qBAAqB;AAa7C,WAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAc3BC,YAAoBC,OAA2B,EACrCC,IAAgB,EAChBC,EAAuB;IAAA,IAAAC,KAAA;IAFb,KAAAH,OAAO,GAAPA,OAAO;IACjB,KAAAC,IAAI,GAAJA,IAAI;IACJ,KAAAC,EAAE,GAAFA,EAAE;IAXZ,KAAAE,MAAM,GAAG,cAAc;IACvB,KAAAC,KAAK,GAAG,IAAI;IAwBZ,KAAAC,MAAM,gBAAAC,iBAAA,CAAG,aAAW;MAClB,IAAIJ,KAAI,CAACK,QAAQ,EAAE,EAAE;QACnBL,KAAI,CAACE,KAAK,GAAG,IAAI;QACjB,IAAIF,KAAI,CAACC,MAAM,IAAI,cAAc,EAAE;UACjCD,KAAI,CAACC,MAAM,GAAG,WAAW;UACzBD,KAAI,CAACM,MAAM,CAACC,WAAW,CAAC;YAAC,GAAGP,KAAI,CAACQ,IAAI,CAACC,KAAK;YAAEC,IAAI,EAAE,IAAIC,IAAI,EAAE,CAACC,QAAQ,EAAE;YAAEC,SAAS,EAAE,CAAE,IAAIF,IAAI;UAAE,CAAC,EAAE,MAAK;YACvGX,KAAI,CAACC,MAAM,GAAG,MAAM;YACpBa,UAAU,CAAC,MAAK;cACdd,KAAI,CAACC,MAAM,GAAG,cAAc;cAC5BD,KAAI,CAACQ,IAAI,CAACO,KAAK,EAAE;YACnB,CAAC,EAAE,IAAI,CAAC;UACV,CAAC,CAAC;;OAEL,MAAMf,KAAI,CAACE,KAAK,GAAG,KAAK;IAC3B,CAAC;IAED,KAAAG,QAAQ,GAAG,MAAK;MACd,IAAI;QAACW,SAAS;QAAEC,KAAK;QAAEC;MAAO,CAAC,GAAG,IAAI,CAACV,IAAI,CAACC,KAAK;MACjD,OAAOO,SAAS,IAAIA,SAAS,IAAI,EAAE,IAAIC,KAAK,IAAIA,KAAK,IAAI,EAAE,IAAIC,OAAO,IAAIA,OAAO,IAAI,EAAE;IACzF,CAAC;IAhCC,IAAI,CAACV,IAAI,GAAG,IAAIjB,SAAS,CAAC;MACxByB,SAAS,EAAE,IAAIxB,WAAW,EAAE;MAC5ByB,KAAK,EAAE,IAAIzB,WAAW,EAAE;MACxB0B,OAAO,EAAE,IAAI1B,WAAW;KACzB,CAAC;IACF,IAAI,CAAC2B,YAAY,GAAGtB,OAAO,CAACJ,MAAM,CAAC,SAAS,CAAC,CAAC2B,SAAS,CAACC,IAAI,IAAI,IAAI,CAACC,QAAQ,GAAGD,IAAI,CAAC;IACrF,IAAI,CAACf,MAAM,GAAG,IAAIZ,cAAc,CAACG,OAAO,EAAEC,IAAI,EAAEC,EAAE,CAAC;EACrD;EAEAwB,QAAQA,CAAA;IACNC,QAAQ,CAACC,cAAc,CAAC,KAAK,CAAC,CAACC,cAAc,CAAC;MAACC,QAAQ,EAAE;IAAQ,CAAC,CAAC;EACrE;EAuBAC,WAAWA,CAAA;IACT,IAAI,CAACT,YAAY,CAACU,WAAW,EAAE;EACjC;CAED;AArDWC,UAAA,EAATrC,MAAM,EAAE,C,gDAAQ;AAFNE,gBAAgB,GAAAmC,UAAA,EAP5BxC,SAAS,CAAC;EACTyC,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,C,EAGWtC,gBAAgB,CAuD5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}