{"ast":null,"code":"import _asyncToGenerator from \"/Users/aj/source/repos/tekinest/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport * as actionTypes from './types';\nexport let ContactActions = class ContactActions {\n  constructor(ngRedux, http, db) {\n    var _this = this;\n    this.ngRedux = ngRedux;\n    this.http = http;\n    this.db = db;\n    this.postMessage = (data, callback) => {\n      this.db.database.ref('help/weandel').push(data).then( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (res) {\n          yield _this.ngRedux.dispatch({\n            payload: {\n              ...data,\n              timestamp: +new Date()\n            },\n            type: actionTypes.POST_MESSAGE\n          });\n          callback();\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()).catch(error => console.log(error));\n    };\n    this.newsecHelp = (data, callback) => {\n      this.db.database.ref('help/newsec').push(data).then( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator(function* (res) {\n          yield _this.ngRedux.dispatch({\n            payload: {\n              ...data,\n              timestamp: +new Date()\n            },\n            type: actionTypes.POST_HELP\n          });\n          callback();\n        });\n        return function (_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }()).catch(error => console.log(error));\n    };\n  }\n};\nContactActions = __decorate([Injectable()], ContactActions);","map":{"version":3,"names":["Injectable","actionTypes","ContactActions","constructor","ngRedux","http","db","_this","postMessage","data","callback","database","ref","push","then","_ref","_asyncToGenerator","res","dispatch","payload","timestamp","Date","type","POST_MESSAGE","_x","apply","arguments","catch","error","console","log","newsecHelp","_ref2","POST_HELP","_x2","__decorate"],"sources":["/Users/aj/source/repos/tekinest/src/app/store/actions.ts"],"sourcesContent":["import { Component, OnInit, Injectable } from '@angular/core';\nimport * as actionTypes from './types';\nimport { NgRedux } from '@angular-redux/store';\nimport { IAppState } from './index';\nimport { HttpClient } from '@angular/common/http';\nimport { AngularFireDatabase } from 'angularfire2/database';\n\n\n\n@Injectable()\nexport class ContactActions {\n\n  constructor(private ngRedux: NgRedux<IAppState>, private http: HttpClient, private db: AngularFireDatabase) {}\n\n  postMessage = (data, callback) => {\n    this.db.database.ref('help/weandel').push(data).then(async res => {\n      await this.ngRedux.dispatch({\n        payload: {...data, timestamp: + new Date()},\n        type: actionTypes.POST_MESSAGE\n      });\n      callback();\n    }).catch(error => console.log(error));\n  }\n\n  newsecHelp = (data, callback) => {\n    this.db.database.ref('help/newsec').push(data).then(async res => {\n      await this.ngRedux.dispatch({\n        payload: {...data, timestamp: + new Date()},\n        type: actionTypes.POST_HELP\n      });\n      callback();\n    }).catch(error => console.log(error));\n  }\n}"],"mappings":";;AAAA,SAA4BA,UAAU,QAAQ,eAAe;AAC7D,OAAO,KAAKC,WAAW,MAAM,SAAS;AAS/B,WAAMC,cAAc,GAApB,MAAMA,cAAc;EAEzBC,YAAoBC,OAA2B,EAAUC,IAAgB,EAAUC,EAAuB;IAAA,IAAAC,KAAA;IAAtF,KAAAH,OAAO,GAAPA,OAAO;IAA8B,KAAAC,IAAI,GAAJA,IAAI;IAAsB,KAAAC,EAAE,GAAFA,EAAE;IAErF,KAAAE,WAAW,GAAG,CAACC,IAAI,EAAEC,QAAQ,KAAI;MAC/B,IAAI,CAACJ,EAAE,CAACK,QAAQ,CAACC,GAAG,CAAC,cAAc,CAAC,CAACC,IAAI,CAACJ,IAAI,CAAC,CAACK,IAAI;QAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAC,WAAMC,GAAG,EAAG;UAC/D,MAAMV,KAAI,CAACH,OAAO,CAACc,QAAQ,CAAC;YAC1BC,OAAO,EAAE;cAAC,GAAGV,IAAI;cAAEW,SAAS,EAAE,CAAE,IAAIC,IAAI;YAAE,CAAC;YAC3CC,IAAI,EAAErB,WAAW,CAACsB;WACnB,CAAC;UACFb,QAAQ,EAAE;QACZ,CAAC;QAAA,iBAAAc,EAAA;UAAA,OAAAT,IAAA,CAAAU,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC,CAACC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;IACvC,CAAC;IAED,KAAAG,UAAU,GAAG,CAACtB,IAAI,EAAEC,QAAQ,KAAI;MAC9B,IAAI,CAACJ,EAAE,CAACK,QAAQ,CAACC,GAAG,CAAC,aAAa,CAAC,CAACC,IAAI,CAACJ,IAAI,CAAC,CAACK,IAAI;QAAA,IAAAkB,KAAA,GAAAhB,iBAAA,CAAC,WAAMC,GAAG,EAAG;UAC9D,MAAMV,KAAI,CAACH,OAAO,CAACc,QAAQ,CAAC;YAC1BC,OAAO,EAAE;cAAC,GAAGV,IAAI;cAAEW,SAAS,EAAE,CAAE,IAAIC,IAAI;YAAE,CAAC;YAC3CC,IAAI,EAAErB,WAAW,CAACgC;WACnB,CAAC;UACFvB,QAAQ,EAAE;QACZ,CAAC;QAAA,iBAAAwB,GAAA;UAAA,OAAAF,KAAA,CAAAP,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC,CAACC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;IACvC,CAAC;EApB4G;CAqB9G;AAvBY1B,cAAc,GAAAiC,UAAA,EAD1BnC,UAAU,EAAE,C,EACAE,cAAc,CAuB1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}